<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Recetario Ligero</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-800">
  <div class="max-w-7xl mx-auto p-6">
    <header class="mb-6">
      <h1 class="text-4xl font-bold text-amber-600">Recetario Ligero</h1>
      <p class="text-gray-600">120 recetas para inspirar tu cocina.</p>
    </header>

    <div class="flex flex-col sm:flex-row gap-3 mb-4">
      <input id="search" type="text" placeholder="Buscar receta..."
        class="flex-1 p-3 rounded-full border focus:outline-none focus:ring-2 focus:ring-amber-400">
      <button id="btn-all" class="px-4 py-2 bg-amber-500 text-white rounded-full">Todas</button>
      <button id="btn-fav" class="px-4 py-2 bg-gray-200 text-gray-700 rounded-full">Favoritas</button>
    </div>

    <div id="no-results" class="hidden text-center py-12 text-gray-500">
      No se encontró ninguna receta.
    </div>

    <div id="grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
  </div>

  <div id="toasts" class="fixed top-4 right-4 space-y-2"></div>

  <script>
    // ——— AQUI PEGA TUS 120 RECETAS ———
    // El array debe ser puro JavaScript, sin comentarios internos ni comas finales.
    const recipes = [
      {
        categoria: "Aperitivo",
        titulo: "Brochetas de aceituna y pimiento",
        raciones: 4,
        tiempo: "15 min",
        imagen: "https://placehold.co/800x600/d1c4b5/4a2e0a?text=Brochetas+Aceituna",
        ingredientes: ["Aceitunas verdes y negras", "Pimiento rojo troceado", "Hojas de albahaca", "Aceite de oliva", "Pimienta negra"],
        pasos: ["Ensarta aceitunas, pimiento y albahaca en palillos.", "Aliña con aceite y pimienta.", "Sirve frío."]
      },
      {
        categoria: "Postre",
        titulo: "Manzana asada con canela",
        raciones: 1,
        tiempo: "35 min",
        imagen: "https://placehold.co/800x600/d1c4b5/4a2e0a?text=Manzana+Asada+Canela",
        ingredientes: ["1 manzana", "Canela en polvo"],
        pasos: ["Quita el corazón de la manzana.", "Espolvorea canela y hornea 30 min a 180 °C."]
      }
      // … añade aquí las otras 118 recetas COMO OBJETOS SIN COMENTARIOS NI COMAS AL FINAL …
    ];

    let favorites = new Set(JSON.parse(localStorage.getItem('favRecipes')||'[]'));
    let showOnlyFav = false;

    const grid      = document.getElementById('grid');
    const noResults = document.getElementById('no-results');
    const input     = document.getElementById('search');
    const btnAll    = document.getElementById('btn-all');
    const btnFav    = document.getElementById('btn-fav');
    const toasts    = document.getElementById('toasts');

    function showToast(msg, type='info') {
      const t = document.createElement('div');
      t.textContent = msg;
      t.className = 'px-4 py-2 rounded shadow text-white ' +
        (type==='success'?'bg-green-500':'bg-blue-500');
      toasts.appendChild(t);
      setTimeout(() => t.remove(), 2500);
    }

    function renderList() {
      const term = input.value.trim().toLowerCase();
      let list = recipes.filter(r =>
        r.titulo.toLowerCase().includes(term) ||
        r.ingredientes.some(i=>i.toLowerCase().includes(term))
      );
      if (showOnlyFav) list = list.filter(r => favorites.has(r.titulo));

      grid.innerHTML = '';
      if (!list.length) {
        return noResults.classList.remove('hidden');
      }
      noResults.classList.add('hidden');

      list.forEach(r => {
        const card = document.createElement('div');
        card.className = 'bg-white rounded-xl shadow hover:shadow-lg transition flex flex-col';
        card.innerHTML = `
          <img src="${r.imagen}" alt="${r.titulo}"
               class="h-32 w-full object-cover rounded-t-xl">
          <div class="p-4 flex-grow flex flex-col">
            <h2 class="font-semibold text-lg">${r.titulo}</h2>
            <p class="text-sm text-gray-500 mt-1">
              Tiempo: ${r.tiempo} | Raciones: ${r.raciones}
            </p>
            <button data-id="${r.titulo}"
              class="mt-auto self-end focus:outline-none">
              <svg xmlns="http://www.w3.org/2000/svg"
                class="h-6 w-6 ${favorites.has(r.titulo)?'text-red-500':'text-gray-300'}"
                fill="${favorites.has(r.titulo)?'currentColor':'none'}"
                viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M4.318 6.318a4.5 4.5 0
                     016.364 0L12 7.636l1.318-1.318a4.5 4.5 0
                     016.364 6.364L12 20.364l-7.682-7.682a4.5
                     4.5 0 010-6.364z" />
              </svg>
            </button>
          </div>`;
        // Toggle favorito
        card.querySelector('button').onclick = e => {
          const id = e.currentTarget.dataset.id;
          if (favorites.has(id)) {
            favorites.delete(id);
            showToast('Eliminado de favoritos');
          } else {
            favorites.add(id);
            showToast('Añadido a favoritos','success');
          }
          localStorage.setItem('favRecipes', JSON.stringify([...favorites]));
          renderList();
        };
        grid.appendChild(card);
      });
    }

    // Listeners
    input.addEventListener('input', () => renderList());
    btnAll.onclick = () => {
      showOnlyFav = false;
      btnAll.className = 'px-4 py-2 bg-amber-500 text-white rounded-full';
      btnFav.className = 'px-4 py-2 bg-gray-200 text-gray-700 rounded-full';
      renderList();
    };
    btnFav.onclick = () => {
      showOnlyFav = true;
      btnFav.className = 'px-4 py-2 bg-amber-500 text-white rounded-full';
      btnAll.className = 'px-4 py-2 bg-gray-200 text-gray-700 rounded-full';
      renderList();
    };

    // Arranca
    renderList();
  </script>
</body>
</html>
