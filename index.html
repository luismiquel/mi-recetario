<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recetario Delicioso</title>
    <meta name="theme-color" content="#78350f"/>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Recetario">
    <link rel="apple-touch-icon" href="https://placehold.co/192x192/78350f/ffffff?text=R">
    <link rel="manifest" href="/manifest.json">

    <script src="https://cdn.tailwindcss.com"></script>
    <script>tailwind.config={darkMode:'class'}</script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Lora:wght@500;700&display=swap" rel="stylesheet">

    <style>
        body{font-family:'Inter',sans-serif;background-color:#f8f7f5}
        body.dark{background-color:#1c1917}
        h1,h2,h3,h4{font-family:'Lora',serif}
        .category-btn.active{background-color:#78350f;color:#fff;font-weight:600;box-shadow:0 2px 5px rgba(0,0,0,.2)}
        .dark .category-btn.active{background-color:#f59e0b;color:#1c1917}
        .category-btn{transition:all .3s ease-in-out;padding:.45rem 1rem;border-radius:9999px;border:1px solid transparent;font-size:.8rem}
        .category-btn:hover:not(.active){background-color:#f0ead6;box-shadow:0 1px 3px 0 rgb(0 0 0 /.05)}
        .dark .category-btn:hover:not(.active){background-color:#3b3735}
        .recipe-card>div{border-radius:1.25rem;overflow:hidden;box-shadow:0 4px 10px rgba(0,0,0,.08);transition:all .3s ease-in-out}
        .recipe-card>div:hover{transform:translateY(-5px);box-shadow:0 8px 15px rgba(0,0,0,.15)}
        .recipe-card img{width:100%;height:192px;object-fit:cover;border-radius:.5rem;margin-bottom:1rem}
        #searchInput{border-radius:9999px;box-shadow:0 2px 4px rgba(0,0,0,.06);padding:.75rem 1rem;width:100%}
        #mic-btn { font-weight: bold; background: #facc15; color: #1c1917; padding: 0.5rem 1rem; border-radius: 9999px; position: fixed; top: 1rem; left: 1rem; z-index: 1001; box-shadow: 0 2px 8px rgba(0,0,0,0.2); }
        #mic-btn:hover { background: #fbbf24; }
        #voice-help-box { position: fixed; top: 5rem; left: 1rem; z-index: 1002; background: #fff; color: #000; padding: 1rem; border-radius: 1rem; box-shadow: 0 2px 12px rgba(0,0,0,0.15); width: 280px; font-size: 0.85rem; }
        body.dark #voice-help-box { background: #1c1917; color: #f0ead6; }
    </style>
</head>
<body class="dark:bg-stone-900 dark:text-stone-200">
    <button id="mic-btn" onclick="toggleVoiceHelp()">üé§ Ayuda voz</button>
    <div id="voice-help-box" class="hidden">
      <h2 class="font-bold mb-2">Comandos de voz:</h2>
      <ul class="list-disc list-inside">
        <li>‚Äúbuscar crema de calabaza‚Äù</li>
        <li>‚Äúfiltrar aperitivo‚Äù</li>
        <li>‚Äúleer paso‚Äù</li>
        <li>‚Äúayuda‚Äù</li>
      </ul>
    </div>
    <div class="max-w-7xl mx-auto px-4 py-8">
        <h1 class="text-4xl md:text-5xl font-bold text-amber-900 dark:text-amber-500 text-center">Recetario Delicioso</h1>
        <p class="text-center text-gray-600 dark:text-stone-400 mt-2">Recetas para inspirar tu cocina.</p>

        <div class="flex justify-center mt-6">
            <input id="searchInput" type="search" placeholder="Buscar receta..." class="max-w-md" />
        </div>

        <div id="categoryFilters" class="flex gap-2 mt-6 overflow-x-auto"></div>

        <div id="no-results" class="hidden text-center py-12">
            <p class="text-gray-600 dark:text-stone-400">No se encontraron recetas. ¬°Intenta otra b√∫squeda o filtro!</p>
        </div>

        <div id="recipeGrid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6 mt-8"></div>
    </div>

    <script>
      const allRecipes = [
        {
          categoria: "Aperitivo",
          titulo: "Brochetas de aceituna y pimiento",
          raciones: 4,
          tiempo: "15 min",
          imagen: "https://placehold.co/600x400?text=Aperitivo",
          ingredientes: ["Aceitunas verdes y negras", "Pimiento rojo", "Albahaca", "Aceite de oliva", "Pimienta negra"],
          pasos: ["Ensarta en palillos.", "Ali√±a.", "Sirve fr√≠o."]
        }
      ];

      const recipeGrid = document.getElementById("recipeGrid");
      const categoryFilters = document.getElementById("categoryFilters");
      const searchInput = document.getElementById("searchInput");
      const noResults = document.getElementById("no-results");
      const helpBox = document.getElementById("voice-help-box");

      function mostrarRecetas(filtradas) {
        recipeGrid.innerHTML = "";
        if (filtradas.length === 0) {
          noResults.classList.remove("hidden");
          return;
        }
        noResults.classList.add("hidden");
        filtradas.forEach(r => {
          const card = document.createElement("div");
          card.className = "recipe-card";
          card.innerHTML = `
            <div class="bg-white dark:bg-stone-800 p-4">
              <img src="${r.imagen}" alt="${r.titulo}">
              <h3 class="text-lg font-semibold mb-1">${r.titulo}</h3>
              <p class="text-sm text-gray-600 dark:text-stone-400">${r.categoria} ‚Äì ${r.tiempo}</p>
            </div>
          `;
          recipeGrid.appendChild(card);
        });
      }

      const categorias = [...new Set(allRecipes.map(r => r.categoria))];
      categorias.forEach(cat => {
        const btn = document.createElement("button");
        btn.textContent = cat;
        btn.className = "category-btn";
        btn.onclick = () => {
          const filtradas = allRecipes.filter(r => r.categoria === cat);
          mostrarRecetas(filtradas);
        };
        categoryFilters.appendChild(btn);
      });

      mostrarRecetas(allRecipes);

      searchInput.addEventListener("input", () => {
        const texto = searchInput.value.toLowerCase();
        const filtradas = allRecipes.filter(r =>
          r.titulo.toLowerCase().includes(texto) ||
          r.ingredientes.some(i => i.toLowerCase().includes(texto))
        );
        mostrarRecetas(filtradas);
      });

      function toggleVoiceHelp() {
        helpBox.classList.toggle("hidden");
      }

      document.addEventListener('DOMContentLoaded', () => {
        helpBox.classList.remove("hidden");
      });
    </script>
</body>
</html>
