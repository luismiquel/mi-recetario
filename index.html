<!DOCTYPE html>
<html lang="es" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="description" content="Recetario Español con 160 recetas. Búsqueda rápida, voz manos libres, modo guiado, alto contraste, letra grande y lista de la compra." />
  <title>Recetario Español – 160 recetas</title>

  <meta name="theme-color" content="#78350f" />
  <meta name="theme-color" content="#78350f" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#0b0f19" media="(prefers-color-scheme: dark)">

  <link rel="manifest" href="./manifest.json" />

  <link rel="stylesheet" href="styles.css">
</head>
<body class="dark">
  <a href="#main" class="skip-link">Saltar al contenido principal</a>

  <noscript>
    <div style="padding:1rem;margin:1rem;border:1px solid #e5e7eb;border-radius:12px;background:#fff;color:#111">
      Esta aplicación necesita JavaScript para funcionar (búsqueda, voz, cocina guiada y lista de la compra).
    </div>
  </noscript>

  <div class="container" id="app">
    <header>
      <div>
        <h1>Recetario Español – 160 recetas</h1>
        <p class="muted" style="margin:.25rem 0 0 0">Voz manos libres · Contraste · Letra grande · Lista de la compra.</p>
      </div>
      <div class="row">
        <button id="toggleTheme" class="btn btn-ghost" title="Cambiar tema" aria-label="Cambiar tema">🌙/☀️</button>
        <button id="toggleContrast" class="btn btn-ghost" title="Alto contraste" aria-label="Alto contraste">🌓</button>
        <button id="fontMinus" class="btn btn-ghost" title="Reducir letra" aria-label="Reducir letra">A−</button>
        <button id="fontPlus" class="btn btn-ghost" title="Aumentar letra" aria-label="Aumentar letra">A+</button>
        <button id="openShopping" class="btn btn-ghost" title="Abrir lista de la compra" aria-label="Lista de la compra">🧺</button>
      </div>
    </header>

    <section class="card" style="padding:1rem;margin-bottom:1rem" aria-label="Búsqueda y filtros">
        <div class="filters">
            <div style="flex:1">
            <label for="search" class="muted" style="font-size:.9rem;font-weight:600">Buscar</label>
            <input id="search" type="search" inputmode="search" placeholder="Nombre, ingrediente… (Ctrl+/)" class="input" />
            </div>
            <div class="row" role="tablist" aria-label="Categorías">
            <button class="tab" role="tab" id="tab-todas" aria-selected="true" data-cat="Todas" title="Mostrar todas">Todas</button>
            <button class="tab" role="tab" id="tab-aperitivo" aria-selected="false" data-cat="Aperitivo" title="Mostrar aperitivos">Aperitivos</button>
            <button class="tab" role="tab" id="tab-primero" aria-selected="false" data-cat="Primero" title="Mostrar primeros">Primeros</button>
            <button class="tab" role="tab" id="tab-segundo" aria-selected="false" data-cat="Segundo" title="Mostrar segundos">Segundos</button>
            <button class="tab" role="tab" id="tab-postre" aria-selected="false" data-cat="Postre" title="Mostrar postres">Postres</button>
            </div>
        </div>

        <div class="filters" style="margin-top: 1rem; border-top: 1px solid rgba(120,113,108,.25); padding-top: 1rem;">
            <div>
                <label for="sortOrder" class="muted" style="font-size:.9rem;font-weight:600">Ordenar por</label>
                <select id="sortOrder" class="input">
                    <option value="default">Por defecto</option>
                    <option value="az">Nombre (A-Z)</option>
                    <option value="za">Nombre (Z-A)</option>
                    <option value="time-asc">Tiempo (más corto)</option>
                    <option value="time-desc">Tiempo (más largo)</option>
                </select>
            </div>
            <div>
                <label for="filterDifficulty" class="muted" style="font-size:.9rem;font-weight:600">Dificultad</label>
                <select id="filterDifficulty" class="input">
                    <option value="all">Todas</option>
                    <option value="Fácil">Fácil</option>
                    <option value="Media">Media</option>
                    <option value="Difícil">Difícil</option>
                </select>
            </div>
            <div>
                <label for="filterTime" class="muted" style="font-size:.9rem;font-weight:600">Tiempo de cocción</label>
                <select id="filterTime" class="input">
                    <option value="all">Cualquiera</option>
                    <option value="30">Menos de 30 min</option>
                    <option value="60">Entre 30 y 60 min</option>
                    <option value="61">Más de 60 min</option>
                </select>
            </div>
        </div>
        
        <div id="readerStatus" class="muted" style="font-size:.8rem;margin-top:1rem" aria-live="polite"></div>
        <div id="heard" class="muted" style="font-size:.8rem;margin-top:.25rem">🎧 Oído: <span id="heardText">—</span></div>
        <div id="voiceHUD"><span id="voiceDot" aria-hidden="true"></span><span id="voiceWave" aria-hidden="true"><i></i></span><span id="voiceTip">Voz manos libres</span></div>
    </section>

    <section class="muted" style="font-size:.9rem;margin-bottom:.5rem">
      <span id="countLabel">Mostrando 0 recetas.</span>
    </section>

    <main id="main" aria-labelledby="countLabel">
      <div id="recipesGrid" class="grid" role="region" aria-label="Listado de recetas"></div>
      <div id="emptyState" hidden>No hay resultados.</div>
    </main>

    <div id="detailModal" class="no-print" style="position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center;padding:1rem" role="dialog" aria-modal="true" aria-labelledby="detailTitle"></div>
    <div id="guidedModal" class="no-print" style="position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center;padding:1rem" role="dialog" aria-modal="true" aria-labelledby="guidedTitle"></div>
    <aside id="shoppingDrawer" class="drawer" aria-label="Lista de la compra" aria-hidden="true"></aside>

    <div id="ttsCaption" role="status" aria-live="polite"></div>
    <script src="scripts.js" defer></script>
</body>
</html>
